{
    "componentChunkName": "component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx",
    "path": "/port-mirroring-for-sip-monitoring",
    "result": {"data":{"post":{"slug":"/port-mirroring-for-sip-monitoring","title":"Technical Notes: Port Mirroring on Switches – How to Monitor SIP/RTP without Touching Production!","date":"27.02.2025","tags":[{"name":"VoIP","slug":"vo-ip"},{"name":"SIP","slug":"sip"},{"name":"Networking","slug":"networking"},{"name":"Passive Monitoring","slug":"passive-monitoring"}],"description":null,"canonicalUrl":null,"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"slug\": \"port-mirroring-for-sip-monitoring\",\n  \"title\": \"Technical Notes: Port Mirroring on Switches – How to Monitor SIP/RTP without Touching Production!\",\n  \"date\": \"2025-02-27T00:00:00.000Z\",\n  \"tags\": [\"VoIP\", \"SIP\", \"Networking\", \"Passive Monitoring\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"Overview\")), mdx(\"p\", null, \"In modern call center or VoIP environments\\u2014especially those using legacy or third-party systems like CTI, Asterisk, or KT\\u2019s carrier infrastructure\\u2014it's often impossible or risky to directly inject new services like Speech-to-Text (STT) monitoring into the production path.\"), mdx(\"p\", null, \"As a Technical Lead, my priority was to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"capture all SIP and RTP traffic for transcription\"), \", without impacting any part of the production call flow. The safest way to do this is using \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Port Mirroring (SPAN)\"), \" on a network switch.\"), mdx(\"p\", null, \"This note covers how Port Mirroring works, what hardware supports it, and how you can set up a monitoring server to sniff SIP and RTP traffic with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pyshark\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"sngrep\"), \", or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"tshark\"), \".\"), mdx(\"h2\", null, mdx(\"span\", {\n    parentName: \"h2\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"640px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"28.333333333333332%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLUlEQVQY03VPXUvDQBDM/3/wR4hvglTwQbCgoNGiQVrEgClJWu7yQW1TQr566WVHdmt8c2Bv725nZ3adyeQaWicoyxJpmiLLMiRJAq01NpsN2raFVmtkqcJ+v5danufCZQ7frbWYLxY0m83geJ6HOI6FbIwRAY66rmHtEVXd4O7mAvPXKQhA153qTdNI7roOSim4rku+78MJw1Bc2LmqKjCIJInBdrvF89MDonApIjzNiL7vpS8IAh6KoiiCw/2iQUR13dDHwiPvZUq7XUFaazLG0OFgJBdFQVmWSX5/e6T1KqRhEHuy1rIEHD7GYExvr+DeT9AdDP7DMvjC5fkZqvL7tNEw/NVYkKV5D1sUhY3j2Cqlbdu28jfWR07f93a1iq3vf9o8z+X9yzvyiD9DgcQvevc9zQAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"alt text\",\n    \"title\": \"alt text\",\n    \"src\": \"/static/14ca84c61cc413ef1fecf67b7df49aba/1bed9/client_asterisk_sip_rtp.png\",\n    \"srcSet\": [\"/static/14ca84c61cc413ef1fecf67b7df49aba/5243c/client_asterisk_sip_rtp.png 240w\", \"/static/14ca84c61cc413ef1fecf67b7df49aba/ab158/client_asterisk_sip_rtp.png 480w\", \"/static/14ca84c61cc413ef1fecf67b7df49aba/1bed9/client_asterisk_sip_rtp.png 640w\"],\n    \"sizes\": \"(max-width: 640px) 100vw, 640px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \")), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"What is Port Mirroring?\")), mdx(\"p\", null, \"Port Mirroring, or \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"SPAN (Switch Port Analyzer)\"), \", is a feature available in managed switches that allows you to create a copy of traffic from one or more ports (or VLANs) and forward it to another port, known as the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"monitoring port\"), \".\"), mdx(\"p\", null, \"This technique is passive: it doesn\\u2019t modify or delay the original packets.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Use case\"), \":\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Monitor all traffic going to/from a SIP gateway or CTI system.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Capture both SIP signaling (port 5060) and RTP media (dynamic UDP).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Feed mirrored traffic into a recording, STT, or analytics engine.\")), mdx(\"hr\", null), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"Which Switches Support Port Mirroring?\")), mdx(\"p\", null, \"Most \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Layer 2 Managed Switches\"), \" support port mirroring.\\nLook for terms like: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SPAN\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Mirror\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Monitor Session\"), \", or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Port Analysis\"), \" in your device\\u2019s manual.\"), mdx(\"hr\", null), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"Why Port Mirroring is Ideal for SIP/RTP Monitoring\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Non-intrusive\"), \": No impact on production SIP server, CTI, or Asterisk\\n\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Passive recording\"), \": No ACK, INVITE, or RTP packet is ever touched\\n\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Full visibility\"), \": See both call signaling (SIP) and audio (RTP)\\n\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Flexible\"), \": Multiple streams can be analyzed in parallel\"), mdx(\"p\", null, \"It\\u2019s especially useful for:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Building a parallel \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"STT transcription system\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Quality assurance (QA)\"), \" and \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"compliance recording\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Debugging SIP failures\"), \" without altering live systems\")), mdx(\"hr\", null), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"Monitoring in Practice: Physical Setup\")), mdx(\"p\", null, \"Here\\u2019s a practical architecture:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"61.66666666666666%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAACZElEQVQozx2PR2/bQBSE+bdzyg/wxSkwEKQgPiRwgMBAiuzEjlUsySQlsWjFLpblir0tuVxK8iUJaGAOb4CZD/MYTI4ooSihfkKTomu7x11Kd2nnx1R1KwNiP6Yo7fyEtt1jUu5R0qGkt5gcGT+mQXZA6R6lexhTC9VRcbQQmUrRYOp+mzgTKVS9epcdDYhR3ENhTP10D6OW8ZN2lx2S8hgWRy+mbkjckOqw8eJulx2C/GCi5voBTsRIhzjIDmX3Lyd/UXb0IsLAmLpB+/wN/+nKQkm33uY3nD8WAi/uJLPg1Uxx6xsO/WJ95emL09fvTk7PNlbkRrQv617z7Fy6GEF7166tQjSKmRwBuxqugokYARsrbi1vsWQWkpGevPr48u2XmeDaQcs4YQucergMeDXTIDH82gmpHXYrvfjF+vK2MndUg2TjEsXFmteMxPxmEY/F2EQNI5nF3TK8ZtFg7s9B2m9DrQ6JiSiv5oJRKh5Z27W4rWWz0CEBNubVHDiN4uK+zKkFu8lmIGOVHNilConiEWlbzdfxXb+okLb1ysSiUWwc/PPBGExWt0tH8QijerVsN3LPbgQLy1YJnAY4/c0q+XyTs1q1MjGvV4JZ8QC+uPhzPRxfjsDGJczarhZ6L06reK0UzULc9qARjx5AOhai8WK3MDCrlku9ZEF0x1pD3pmBTLIqRjBLTsOcjjmtT/BqtjLxwijPPowvf+vnX5fvP7MLs5krJadkIzEdsPEVG96uUsGoGDci9+t8BrLJuodFecdrxXyTTaTkx9T/PoVjKZmCbK7kYU7lLZ4+he/XqRuR/wx8ZtfYMJExAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"alt text\",\n    \"title\": \"alt text\",\n    \"src\": \"/static/c741a5b53caca9703d1bd63a420900f6/7d769/image_updated.png\",\n    \"srcSet\": [\"/static/c741a5b53caca9703d1bd63a420900f6/5243c/image_updated.png 240w\", \"/static/c741a5b53caca9703d1bd63a420900f6/ab158/image_updated.png 480w\", \"/static/c741a5b53caca9703d1bd63a420900f6/7d769/image_updated.png 960w\", \"/static/c741a5b53caca9703d1bd63a420900f6/f1720/image_updated.png 1024w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Port 1: Production traffic (e.g., to/from KT SIP)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Port 2: Mirror destination (connected to passive sniffing server)\")), mdx(\"p\", null, \"On the monitoring server, run tools like:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"sudo sngrep -d eth0\\n# Or pyshark\\npyshark.LiveCapture(interface=\\\"eth0\\\", display_filter=\\\"sip || rtp\\\")\\n\")), mdx(\"p\", null, \"\\uD83D\\uDCDD \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Note: Ensure interface is in promiscuous mode if needed.\")), mdx(\"hr\", null), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"Lessons Learned\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Not all switches support bidirectional port mirroring. Test your device first.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Check if your server NIC supports large packet throughput (some cheap USB dongles drop RTP).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If you see only 1 direction in Wireshark/sngrep: check switch config \\u2192 mirror direction.\")), mdx(\"hr\", null), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"Conclusion\")), mdx(\"p\", null, \"Port Mirroring is the foundation for \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"passive SIP and RTP inspection\"), \" in enterprise voice networks. Without touching or modifying any production system, you gain full insight into signaling and media flow.\"), mdx(\"p\", null, \"This method has enabled me to roll out \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"real-time STT monitoring\"), \" on legacy CTI systems in production without any outage or risk.\"), mdx(\"p\", null, \"I hope this guide helps other engineers looking to add AI-driven analysis, logging, or compliance tools to existing VoIP infrastructure.\"), mdx(\"p\", null, \"Let\\u2019s build observability the right way \\u2014 passively, safely, and smartly.\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"This article reflects real-world setups I\\u2019ve deployed as a Technical Lead. Written and structured with help from my AI assistant to enhance clarity and reusability.\")));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"Overview In modern call center or VoIP environments—especially those using legacy or third-party systems like CTI, Asterisk, or KT’s carrier…","timeToRead":2,"banner":null}},"pageContext":{"slug":"/port-mirroring-for-sip-monitoring","formatString":"DD.MM.YYYY"}},
    "staticQueryHashes": ["2744905544","3090400250","318001574"]}