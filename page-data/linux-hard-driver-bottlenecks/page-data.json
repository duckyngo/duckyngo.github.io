{
    "componentChunkName": "component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx",
    "path": "/linux-hard-driver-bottlenecks",
    "result": {"data":{"post":{"slug":"/linux-hard-driver-bottlenecks","title":"4 Ways I Monitor and Detect Bottlenecks in Linux Hard Drives","date":"15.07.2024","tags":[{"name":"Linux","slug":"linux"}],"description":null,"canonicalUrl":null,"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"slug\": \"linux-hard-driver-bottlenecks\",\n  \"title\": \"4 Ways I Monitor and Detect Bottlenecks in Linux Hard Drives\",\n  \"date\": \"2024-07-15T00:00:00.000Z\",\n  \"tags\": [\"Linux\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"As a Linux user, monitoring hard drive performance is crucial for maintaining smooth system operation. Over the years, I\\u2019ve adopted four tools to monitor and detect bottlenecks in my Linux hard drives: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"iostat\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ioping\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"iotop\"), \", and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"glances\"), \". Each tool provides unique insights into disk performance. Here\\u2019s how I use them effectively:\"), mdx(\"hr\", null), mdx(\"h2\", null, mdx(\"strong\", {\n    parentName: \"h2\"\n  }, \"1. Monitoring Disk Activity with \", mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"iostat\"))), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"iostat\"), \" is one of the first tools I turn to for an overview of disk performance. It provides metrics such as CPU usage, transactions per second (TPS), and data read/write rates.\"), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"How to Install and Run\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"sudo apt install sysstat\\niostat\\n\")), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"Sample Output\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-plaintext\"\n  }, \"Linux 5.4.0-200-generic (aithe209)      12/04/2024      _x86_64_        (80 CPU)\\n\\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\\n           1.81    0.00    0.69    3.48    0.00   94.02\\n\\nDevice             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd\\nsda              88.74      2814.06       423.50         0.00 5022715628  755889088          0\\nnvme0n1           4.71        62.00        75.84       962.53  110653383  135366169 1717987804\\n\")), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"Insights\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"%iowait\"), \": Time the CPU spends waiting for disk I/O. High values here suggest a potential I/O bottleneck.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"TPS and Throughput:\"), \" Look for high TPS with low throughput, which could indicate inefficient I/O patterns.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Disk-Specific Metrics:\"), \" Focus on individual devices like \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"sda\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"nvme0n1\"), \" for targeted analysis.\")), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"For a Single Disk\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"iostat -m -p sda\\n\")), mdx(\"p\", null, \"This command gives a more focused view of a specific disk, including read/write rates in MB/s.\"), mdx(\"hr\", null), mdx(\"h2\", null, mdx(\"strong\", {\n    parentName: \"h2\"\n  }, \"2. Discovering I/O Latency with \", mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"ioping\"))), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ioping\"), \" measures I/O latency, providing a real-time look at how fast your disks respond to requests. It\\u2019s particularly useful for spotting slow disks.\"), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"How to Install and Run\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"sudo apt install ioping\\nsudo ioping /dev/sda\\n\")), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"Sample Output\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-plaintext\"\n  }, \"4 KiB <<< /dev/sda (block device 16.4 TiB): request=1 time=31.4 ms\\n4 KiB <<< /dev/sda (block device 16.4 TiB): request=2 time=31.4 ms\\n4 KiB <<< /dev/sda (block device 16.4 TiB): request=14 time=34.1 ms (slow)\\n4 KiB <<< /dev/sdb (block device 16.4 TiB): request=2 time=207.1 ms (very slow)\\n\")), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"Insights\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Latency Variability:\"), \" Requests with high latency (e.g., 207.1 ms) can indicate disk performance issues.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Slow vs. Fast Requests:\"), \" Frequent slow requests might point to mechanical delays in HDDs or contention in SSDs.\")), mdx(\"hr\", null), mdx(\"h2\", null, mdx(\"strong\", {\n    parentName: \"h2\"\n  }, \"3. Monitoring Disk Usage with \", mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"iotop\"))), mdx(\"p\", null, \"Similar to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"top\"), \" for CPU, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"iotop\"), \" provides a real-time view of disk I/O usage by processes. It\\u2019s perfect for identifying I/O-intensive applications.\"), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"How to Install and Run\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"sudo apt install iotop\\nsudo iotop\\n\")), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"What to Look For\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Processes with High I/O Usage:\"), \" These are often the culprits of bottlenecks.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Read/Write Speeds:\"), \" Track if processes are exceeding expected disk throughput.\")), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"Why I Use It\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"iotop\"), \" is especially useful during troubleshooting, as it directly links disk activity to specific processes, helping me optimize or debug applications.\"), mdx(\"hr\", null), mdx(\"h2\", null, mdx(\"strong\", {\n    parentName: \"h2\"\n  }, \"4. Comprehensive Monitoring with \", mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"glances\"))), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"glances\"), \" is a versatile monitoring tool that provides an overview of system performance, including CPU, memory, network, and disk I/O.\"), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"How to Install and Run\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"sudo apt install glances\\nglances\\n\")), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"Sample Output\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-plaintext\"\n  }, \"DISK I/O                  R/s    W/s\\nsda                     2814.06  423.50\\nMEM [|||                                                        5.1%]   active:    56.3G\\nCPU [                                                           0.3%]   iowait:    0.0%\\nSWAP [|||                                                        4.9%]\\n\")), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"Insights\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Real-Time I/O:\"), \" Disk read/write speeds (e.g., \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"R/s\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"W/s\"), \") give immediate feedback on workload intensity.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"CPU I/O Wait:\"), \" Look for non-zero \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"%iowait\"), \", which signals potential disk bottlenecks.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Memory and Caching:\"), \" Ensure enough free memory to avoid swapping, which impacts disk performance.\")), mdx(\"hr\", null), mdx(\"h2\", null, mdx(\"strong\", {\n    parentName: \"h2\"\n  }, \"When to Use Each Tool\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Quick Overview:\"), \" Start with \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"iostat\"), \" to identify system-wide trends.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Latency Checks:\"), \" Use \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"ioping\"), \" to pinpoint slow disks.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Application-Specific Analysis:\"), \" Switch to \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"iotop\"), \" to find I/O-heavy processes.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Comprehensive Monitoring:\"), \" Finish with \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"glances\"), \" for an all-in-one view.\")), mdx(\"hr\", null), mdx(\"p\", null, \"By combining these four tools\\u2014\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"iostat\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ioping\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"iotop\"), \", and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"glances\"), \"\\u2014 I can detect bottlenecks early and ensure my hard drives operate efficiently. Whether you\\u2019re troubleshooting performance issues or optimizing your system, these tools are must-haves in any Linux toolkit.\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"As a Linux user, monitoring hard drive performance is crucial for maintaining smooth system operation. Over the years, I’ve adopted four…","timeToRead":2,"banner":null}},"pageContext":{"slug":"/linux-hard-driver-bottlenecks","formatString":"DD.MM.YYYY"}},
    "staticQueryHashes": ["2744905544","3090400250","318001574"]}